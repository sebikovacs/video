!function(a,b){"use strict";a.fn.rangeSelector=function(c){var d,e=a(this),f=a(".range-track"),g=a(".range-selection"),h=(g.width(),e.find(".time1")),i=e.find(".time2"),j=e.find(".range-handle:first"),k=e.find(".range-handle:last"),l=c.video,m=!1,n=0,o=[0,0],p=c.duration||0;h.html(o[0]),i.html(o[1]);var q=function(a){var b=f.width()/p,c=parseInt(a/b);return c},r=function(a){m&&(u(a),0==d&&o[1]<n?(o[0]=o[1],d=1):1==d&&o[0]>n&&(o[1]=o[0],d=0),o[d]=n,l[0].currentTime=q(n),v())},s=function(){m=!1},t=function(a){m=!0,u(a);var b=Math.abs(n-o[0]),c=Math.abs(n-o[1]);d=c>b?0:1,o[d]=n,l[0].currentTime=q(n),v(),e.on({mousemove:r})},u=function(a){var b=a.pageX,c=f.offset().left+f[0].offsetWidth,d=f.offset().left;n=Math.min(Math.max(d,b),c)-f.offset().left},v=function(){j[0].style.left=o[0]+"px",k[0].style.left=o[1]+"px",g[0].style.left=o[0]+"px",g.width(o[1]-o[0]);var a=f.width()/p,c=parseInt(o[0]/a),d=parseInt(o[1]/a);h.html(c),i.html(d);var e={t1:c,t2:d};b.rangeValues=e};e.on({mousedown:t,mouseup:s})}}(jQuery,window),$(document).ready(function(){var a=document.getElementById("droparea"),b=$(".progress"),c=b.find(".progress-bar"),d=$(".droparea-wrap"),e=d.find(".btn"),f=(document.getElementsByClassName("video")[0],function(a){if(a.lengthComputable){b.show();var d=Math.round(a.loaded/a.total*100);100>d&&(c[0].style.width=d+"%")}});a.ondragover=function(){return this.className="hover",!1},a.ondragout=function(){return this.className="",!1},a.ondrop=function(d){this.className="",d.preventDefault();var e=d.dataTransfer.files[0],g=new FileReader;g.onprogress=f,a.style.display="none",g.onload=function(a){c[0].style.width="100%",setTimeout(function(){b[0].style.display="none",$("#demo").attr("src",a.target.result).on("canplay",function(){$(".video").width(this.videoWidth).height(this.videoHeight).css("display","block"),$(".video-controls").css("display","block")})},1e3)},g.readAsDataURL(e)},e.on("click",function(b){b.preventDefault(),a.style.display="block"});({file:window.File?!0:!1,fileReader:window.FileReader?!0:!1,fileList:window.FileList?!0:!1,blob:window.Blob?!0:!1});""!=$("#demo").attr("src")&&($(".video").css("display","block"),$("#demo").on("canplay",function(){$(".video").width(this.videoWidth).height(this.videoHeight)}),$(".video-controls").css("display","block"))}),$(document).ready(function(){var a=$("#demo")[0],b=!1;isDownRight=!1,end=$("#end"),loop=$(".loop-val"),playButton=$("#play"),pauseButton=$("#pause"),playbackRate=$(".speed-val"),startIndicator=$(".time-start"),endIndicator=$(".time-end"),min=$(".min"),sec=$(".sec"),inputWrap=$(".input-wrap"),bundle={start:0,end:0,loop:0,playbackRate:1},playing=!1,paused=!0,window.rangeValues={t1:0,t2:0},startIndicator.html(bundle.start),endIndicator.html(bundle.end);var c=function(){var b=parseInt(a.currentTime);b=10>b?"0"+b:b,sec.html(b)};playButton.on("click",function(b){$(this).addClass("hide"),pauseButton.removeClass("hide"),b.preventDefault(),a.currentTime=window.rangeValues.t1,a.playbackRate=bundle.playbackRate,bundle.loop=loop.val()-1,a.play()}),pauseButton.on("click",function(b){$(this).addClass("hide"),playButton.removeClass("hide"),b.preventDefault(),a.pause()}),$(a).on("pause",function(){paused=!1}).on("play",function(){playing=!0}).on("click",function(){playing?(a.pause(),playing=!1):(a.play(),playing=!0)}),$(a).on("seeking",function(){var c=this.currentTime;(b||isDownRight)&&playing&&(a.pause(),playing=!1,pauseButton.addClass("hide"),playButton.removeClass("hide")),b?(start.val(c),bundle.start=c,startIndicator.html(parseInt(bundle.start))):isDownRight&&(end.val(c),bundle.end=c,endIndicator.html(parseInt(bundle.end)))}),$(a).on("timeupdate",function(){Math.floor(a.currentTime)==Math.floor(window.rangeValues.t2)&&($(".feedback-loop span.loops").html(bundle.loop),a.currentTime=window.rangeValues.t1,bundle.loop>0?bundle.loop=bundle.loop-1:a.pause()),playing&&c()});var d=function(a,b,c){b||(c.html(1),b=1),a>0?(c.html(b+1),setTimeout(function(){bundle.loop=parseInt(c.html())},100)):0>a&&b>1&&(c.html(b-1),setTimeout(function(){bundle.loop=parseInt(c.html())},100))};loop.on("keypress",function(a){a.preventDefault()}).on("keydown",function(a){var b=0,c=parseInt($(this).val()),e=$(this);38==a.which?b=1:(b=40)&&(b=-1),d(b,c,e)}).on("mousewheel",function(a){var b=parseInt($(this).html()),c=$(this);d(a.deltaY,b,c)}),playbackRate.on("keypress",function(a){a.preventDefault()}).on("keydown",function(a){var b=0,c=(Math.round(100*c.val())/100,$(this));38==a.which?b=1:(b=40)&&(b=-1)}).on("mousewheel",function(a){var b=$(this),c=Math.round(b.html())/100;a.deltaY>0&&1>c?(c=Math.round(100*(c+.1))/100,b.html(100*c),setTimeout(function(){bundle.loop=c},100)):a.deltaY<0&&c>.1&&(c=Math.round(100*(c-.1))/100,b.html(c),setTimeout(function(){bundle.loop=c},100)),setTimeout(function(){bundle.playbackRate=parseFloat(b.val())},100)})});